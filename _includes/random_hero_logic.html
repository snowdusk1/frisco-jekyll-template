{% comment %}
    _includes/random_hero_logic.html - CONSOLIDATED SCRIPT (Bottom Hero Only)
    
    This script defines the data array once and runs the randomization 
    logic only for the bottom target: #bottom-hero-js-target.
{% endcomment %}

<script>
document.addEventListener('DOMContentLoaded', function() {

    // 1. STATIC DATA INJECTION (Data array)
    const heroData = [
        {"path": "/images/bottom_hero_images/20080901_nishiebarasho.jpg", "description": "Teaching kids at Nishiebara Elementary School, Ibara, Okayama, Japan (2008)"},
        {"path": "/images/bottom_hero_images/cdj_wedding.jpg", "description": "Getting ready to DJ for my sister's wedding"},
        {"path": "/images/bottom_hero_images/cdjs.jpg", "description": "Pioneer CDJ-350W x2 and DJM-350W"},
        {"path": "/images/bottom_hero_images/chuzenjiko.jpeg", "description": "Lake Chuzenji, Nikko National Park, Tochigi, Japan (2010)"},
        {"path": "/images/bottom_hero_images/fujisan_shizuoka.jpeg", "description": "View of Mt. Fuji from Kannami, Shizuoka, Japan (2009)"},
        {"path": "/images/bottom_hero_images/fukuyama_natsu_matsuri.jpeg", "description": "Fukuyama Summer Festival, Fukuyama, Hiroshima, Japan (2006)"},
        {"path": "/images/bottom_hero_images/fukuyama_shimenawa.jpeg", "description": "Making shimenawa (sacred Shinto rope), Fukuyama, Hiroshima, Japan (2005)"},
        {"path": "/images/bottom_hero_images/having_fun_under_sakura_tree.jpg", "description": "Wacky moments with co-worker's kids under a cherry blossom tree, Ibara, Okayama, Japan (2010)"},
        {"path": "/images/bottom_hero_images/hiroshima_baseball.jpeg", "description": "Watching a baseball game in Hiroshima (2010)"},
        {"path": "/images/bottom_hero_images/ibara_intl_fest_with_students.jpeg", "description": "With my students at the Ibara International Festival, Ibara, Okayama, Japan (2008)"},
        {"path": "/images/bottom_hero_images/izumo_taisha.jpg", "description": "Izumo Taisha, Izumo, Shimane, Japan (2009)"},
        {"path": "/images/bottom_hero_images/izumo_taisha_soba.jpeg", "description": "Izumo Taisha, Izumo, Shimane, Japan (2009)"},
        {"path": "/images/bottom_hero_images/kagoshima_2005.jpeg", "description": "Kagoshima, Japan (2005)"},
        {"path": "/images/bottom_hero_images/kataoka_sakura.jpeg", "description": "Bumped into my elementary students at the park (2010)"},
        {"path": "/images/bottom_hero_images/kibitsuhiko.jpeg", "description": "Kibitsuhiko Shrine, Okayama, Japan (2010)"},
        {"path": "/images/bottom_hero_images/kinoko_chu_san_nensei.jpeg", "description": "With my 3rd year junior high students, Kinoko Junior High, Ibara, Okayama, Japan (2009)"},
        {"path": "/images/bottom_hero_images/kinoko_yochien_2007.jpeg", "description": "With Kinoko Kindergarten kids, Ibara, Okayama, Japan (2007)"},
        {"path": "/images/bottom_hero_images/mds.jpg", "description": "MDs"},
        {"path": "/images/bottom_hero_images/momo_dj.jpeg", "description": "Momo"},
        {"path": "/images/bottom_hero_images/momo_macintosh.jpeg", "description": "Momo and Macintosh Classic"},
        {"path": "/images/bottom_hero_images/nikko_nat_park_tochigi.jpg", "description": "Nikko National Park, Tochigi, Japan (2010)"},
        {"path": "/images/bottom_hero_images/ocean_expo_park_okinawa.jpg", "description": "Ocean Expo Park, Okinawa, Japan (2008)"},
        {"path": "/images/bottom_hero_images/okayama_choir.jpeg", "description": "Singing performance with a choir in Okayama City, Okayama, Japan (2009)"},
        {"path": "/images/bottom_hero_images/on_the_way_to_hiroshima_city.jpeg", "description": "On the way to Hiroshima City with YÅ« (2006)"},
        {"path": "/images/bottom_hero_images/on_the_way_to_izumo_with_filter.jpeg", "description": "On the way to Izumo through the Sanyo Mountain Range (2009)"},
        {"path": "/images/bottom_hero_images/pat_mac.jpeg", "description": "My brother and a Mac"},
        {"path": "/images/bottom_hero_images/rirakkuma.jpg", "description": "Kiddy Land, Shibuya, Tokyo, Japan (2006)"},
        {"path": "/images/bottom_hero_images/sapporo_2006.jpeg", "description": "Sapporo, Hokkaido, Japan (2006)"},
        {"path": "/images/bottom_hero_images/setouchi.jpg", "description": "Strolling around the streets of Setouchi \"inaka\" (countryside) (2009)"},
        {"path": "/images/bottom_hero_images/shark.jpg", "description": "Osaka Kaiyukan (Aquarium), Osaka, Japan (2010)"},
        {"path": "/images/bottom_hero_images/shinkansen.jpg", "description": "On the Nozomi bullet train bound to Tokyo (2008)"},
        {"path": "/images/bottom_hero_images/shiraishijima.jpeg", "description": "Shiraishijima, Kasaoka, Okayama, Japan (2008)"},
        {"path": "/images/bottom_hero_images/studio.jpg", "description": "My \"studio\""},
        {"path": "/images/bottom_hero_images/tokyo_disneyland_2006.jpeg", "description": "Tokyo Disneyland 2006"},
        {"path": "/images/bottom_hero_images/tokyo_purikura.jpeg", "description": "Purikura with my besties"},
        {"path": "/images/bottom_hero_images/tuna_melt.jpg", "description": "Ibara International Festival, Ibara, Okayama, Japan (2008)"}
    ];

    // 2. Select random image
    if (!heroData || heroData.length === 0) return;
    
    const randomIndex = Math.floor(Math.random() * heroData.length);
    const randomItem = heroData[randomIndex];

    // 3. Target and apply to the bottom hero
    const heroSection = document.getElementById('bottom-hero-js-target');
    
    // Crucial check: only run if the target section is present (which it is on 'page' layout)
    if (heroSection) {
        const attribution = heroSection.querySelector('.image-attribution i');

        // Apply background and attribution
        heroSection.style.backgroundImage = `url(${randomItem.path})`;
        if (attribution && randomItem.description) {
            attribution.textContent = randomItem.description;
        }
    }
});
</script>
